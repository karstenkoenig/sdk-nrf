#
# Copyright (c) 2023 Nordic Semiconductor ASA
#
# SPDX-License-Identifier: LicenseRef-Nordic-5-Clause
#

menuconfig SUIT_STORAGE
	bool "Enable SUIT storage module"
	depends on ZCBOR
	depends on ZCBOR_CANONICAL
	depends on SUIT_MCI
	depends on SUIT_METADATA
	depends on SUIT_UTILS
	depends on FLASH

if SUIT_STORAGE

config SUIT_STORAGE_N_UPDATE_REGIONS
	int "Maximum number of memory regions, describing the update candidate"
	default 1
	help
	  The memory region may describe SUIT envelope as well as the SUIT cache.

config SUIT_STORAGE_N_ENVELOPES
	int "Number of envelopes, possible to store in SUIT storage"
	default 8 if SOC_NRF54H20
	default 5 if SOC_NRF52840
	default 5 if SOC_POSIX
	help
	  Since it is not supported to reserve more memory after the device
	  is deployed, use larger value than it is necessary.

	  For nRF54H20 the following envelopes may be defined:
	    - SecDom + SysCtlr: firmware
	    - SecDom + SysCtlr: recovery
	    - ROOT
	    - Radio: firmware
	    - Application: firmware
	    - Application: recovery
	    - Application: user data
	    - spare slot

	  For debug and test platforms (POSIX, nRF52840) the following envelopes may be defined:
	    - ROOT
	    - Application: firmware
	    - Application: recovery
	    - Application: user data
	    - spare slot

config SUIT_STORAGE_ENVELOPE_SIZE
	int "The maximum size of envelope that can be stored in a single SUIT storage slot"
	default 2048

config SUIT_STORAGE_CONFIG_SIZE
	int "The size of the SUIT configuration area, stored inside the SUIT storage partition"
	default 128

endif # SUIT_STORAGE
