#
# Copyright (c) 2023 Nordic Semiconductor ASA
#
# SPDX-License-Identifier: LicenseRef-Nordic-5-Clause
#

menu "SUIT-based Firmware Update Management"

config MGMT_SUITFU
	bool "Serial SUIT Firmware Update support"
	depends on MCUMGR
	# The IMG MGMT group is substituted, not extended by the SUIT variant
	depends on !MCUMGR_CMD_IMG_MGMT
	depends on SSF_SUIT_SERVICE_ENABLED
	depends on FLASH
	select MCUMGR_SMP_CBOR_MIN_DECODING_LEVEL_5

config MGMT_SUITFU_IMAGE_NUMBER
	int "Image number representing SUIT envelope"
	default 0

config MGMT_SUITFU_TRIGGER_UPDATE_RESET_DELAY_MS
	int "Delay between update trigger and the last firmware chunk, in ms"
	default 100
	help
	  The delay allows the application to send the SMP response before the update is triggered.

config MGMT_SUITFU_AUTO_REGISTER_HANDLERS
	bool "Automatically register SUIT Firmware Update handlers during boot"
	default y
	help
	  Use MCUMGR_HANDLER_DEFINE to automatically register SUIT Firmware
	  Update handlers during boot.

module=MGMT_SUITFU
module-dep=LOG
module-str=SUIT-based Firmware Update Management
source "${ZEPHYR_BASE}/subsys/logging/Kconfig.template.log_config"

endmenu
